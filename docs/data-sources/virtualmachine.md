---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "harvester_virtualmachine Data Source - terraform-provider-harvester"
subcategory: ""
description: |-
  
---

# harvester_virtualmachine (Data Source)



## Example Usage

```terraform
data "harvester_virtualmachine" "ubuntu20" {
  name      = "ubuntu20"
  namespace = "default"
}

data "harvester_virtualmachine" "opensuse154" {
  name      = "opensuse154"
  namespace = "default"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) A unique name

### Optional

- `namespace` (String)

### Read-Only

- `cloudinit` (List of Object) (see [below for nested schema](#nestedatt--cloudinit))
- `cpu` (Number)
- `cpu_model` (String) CPU model for the virtual machine
- `cpu_pinning` (Boolean) To enable VM CPU pinning, ensure that at least one node has the CPU manager enabled
- `create_initial_snapshot` (Boolean) Create an initial snapshot named {vm-name}-initial after the VM is created and ready
- `description` (String) Any text you want that better describes this resource
- `disk` (List of Object) (see [below for nested schema](#nestedatt--disk))
- `efi` (Boolean)
- `hostname` (String)
- `id` (String) The ID of this resource.
- `input` (List of Object) (see [below for nested schema](#nestedatt--input))
- `isolate_emulator_thread` (Boolean) To enable isolate emulator thread, ensure that at least one node has the CPU manager enabled, also VM CPU pinning must be enabled. Note that enable option will allocate an additional dedicated CPU.
- `labels` (Map of String)
- `machine_type` (String)
- `memory` (String)
- `message` (String)
- `network_interface` (List of Object) (see [below for nested schema](#nestedatt--network_interface))
- `node_affinity` (List of Object) Node affinity rules for scheduling VMs based on node labels (see [below for nested schema](#nestedatt--node_affinity))
- `node_name` (String)
- `node_selector` (Map of String) Node selector for scheduling the VM. The key is the label key and the value is the label value.
- `pod_affinity` (List of Object) Pod affinity rules to co-locate VMs with matching pods (see [below for nested schema](#nestedatt--pod_affinity))
- `pod_anti_affinity` (List of Object) Pod anti-affinity rules to separate VMs from matching pods (see [below for nested schema](#nestedatt--pod_anti_affinity))
- `reserved_memory` (String)
- `restart_after_update` (Boolean) restart vm after the vm is updated
- `run_strategy` (String) more info: https://kubevirt.io/user-guide/virtual_machines/run_strategies/
- `secure_boot` (Boolean) EFI must be enabled to use this feature
- `ssh_keys` (List of String) The `ssh_keys` are added to `cloudinit.user_data` if:
1. Both `cloudinit.user_data_base64` and `cloudinit.user_data_secret_name` are empty.
2. There is no `ssh_authorized_keys` field in `cloudinit.user_data`.
- `start` (Boolean, Deprecated)
- `state` (String)
- `tags` (Map of String) The tag is reflected as label on the VM.
For example: `sample-tag = sample` adds label `tag.harvesterhci.io/sample-tag: sample`.
For `ssh-user` tag, the value is added to `cloudinit.user_data` if:
1. Both `cloudinit.user_data_base64` and `cloudinit.user_data_secret_name` are empty.
2. There is no `user` field in `cloudinit.user_data`.
- `tpm` (List of Object) (see [below for nested schema](#nestedatt--tpm))

<a id="nestedatt--cloudinit"></a>
### Nested Schema for `cloudinit`

Read-Only:

- `network_data` (String)
- `network_data_base64` (String)
- `network_data_secret_name` (String)
- `type` (String)
- `user_data` (String)
- `user_data_base64` (String)
- `user_data_secret_name` (String)


<a id="nestedatt--disk"></a>
### Nested Schema for `disk`

Read-Only:

- `access_mode` (String)
- `auto_delete` (Boolean)
- `boot_order` (Number)
- `bus` (String)
- `container_image_name` (String)
- `existing_volume_name` (String)
- `hot_plug` (Boolean)
- `image` (String)
- `name` (String)
- `size` (String)
- `storage_class_name` (String)
- `type` (String)
- `volume_mode` (String)
- `volume_name` (String)


<a id="nestedatt--input"></a>
### Nested Schema for `input`

Read-Only:

- `bus` (String)
- `name` (String)
- `type` (String)


<a id="nestedatt--network_interface"></a>
### Nested Schema for `network_interface`

Read-Only:

- `boot_order` (Number)
- `interface_name` (String)
- `ip_address` (String)
- `mac_address` (String)
- `model` (String)
- `name` (String)
- `network_name` (String)
- `type` (String)
- `wait_for_lease` (Boolean)


<a id="nestedatt--node_affinity"></a>
### Nested Schema for `node_affinity`

Read-Only:

- `preferred` (List of Object) (see [below for nested schema](#nestedobjatt--node_affinity--preferred))
- `required` (List of Object) (see [below for nested schema](#nestedobjatt--node_affinity--required))

<a id="nestedobjatt--node_affinity--preferred"></a>
### Nested Schema for `node_affinity.preferred`

Read-Only:

- `preference` (List of Object) (see [below for nested schema](#nestedobjatt--node_affinity--preferred--preference))
- `weight` (Number)

<a id="nestedobjatt--node_affinity--preferred--preference"></a>
### Nested Schema for `node_affinity.preferred.preference`

Read-Only:

- `match_expressions` (List of Object) (see [below for nested schema](#nestedobjatt--node_affinity--preferred--preference--match_expressions))
- `match_fields` (List of Object) (see [below for nested schema](#nestedobjatt--node_affinity--preferred--preference--match_fields))

<a id="nestedobjatt--node_affinity--preferred--preference--match_expressions"></a>
### Nested Schema for `node_affinity.preferred.preference.match_expressions`

Read-Only:

- `key` (String)
- `operator` (String)
- `values` (List of String)


<a id="nestedobjatt--node_affinity--preferred--preference--match_fields"></a>
### Nested Schema for `node_affinity.preferred.preference.match_fields`

Read-Only:

- `key` (String)
- `operator` (String)
- `values` (List of String)




<a id="nestedobjatt--node_affinity--required"></a>
### Nested Schema for `node_affinity.required`

Read-Only:

- `node_selector_term` (List of Object) (see [below for nested schema](#nestedobjatt--node_affinity--required--node_selector_term))

<a id="nestedobjatt--node_affinity--required--node_selector_term"></a>
### Nested Schema for `node_affinity.required.node_selector_term`

Read-Only:

- `match_expressions` (List of Object) (see [below for nested schema](#nestedobjatt--node_affinity--required--node_selector_term--match_expressions))
- `match_fields` (List of Object) (see [below for nested schema](#nestedobjatt--node_affinity--required--node_selector_term--match_fields))

<a id="nestedobjatt--node_affinity--required--node_selector_term--match_expressions"></a>
### Nested Schema for `node_affinity.required.node_selector_term.match_expressions`

Read-Only:

- `key` (String)
- `operator` (String)
- `values` (List of String)


<a id="nestedobjatt--node_affinity--required--node_selector_term--match_fields"></a>
### Nested Schema for `node_affinity.required.node_selector_term.match_fields`

Read-Only:

- `key` (String)
- `operator` (String)
- `values` (List of String)





<a id="nestedatt--pod_affinity"></a>
### Nested Schema for `pod_affinity`

Read-Only:

- `preferred` (List of Object) (see [below for nested schema](#nestedobjatt--pod_affinity--preferred))
- `required` (List of Object) (see [below for nested schema](#nestedobjatt--pod_affinity--required))

<a id="nestedobjatt--pod_affinity--preferred"></a>
### Nested Schema for `pod_affinity.preferred`

Read-Only:

- `pod_affinity_term` (List of Object) (see [below for nested schema](#nestedobjatt--pod_affinity--preferred--pod_affinity_term))
- `weight` (Number)

<a id="nestedobjatt--pod_affinity--preferred--pod_affinity_term"></a>
### Nested Schema for `pod_affinity.preferred.pod_affinity_term`

Read-Only:

- `label_selector` (List of Object) (see [below for nested schema](#nestedobjatt--pod_affinity--preferred--pod_affinity_term--label_selector))
- `namespace_selector` (List of Object) (see [below for nested schema](#nestedobjatt--pod_affinity--preferred--pod_affinity_term--namespace_selector))
- `namespaces` (List of String)
- `topology_key` (String)

<a id="nestedobjatt--pod_affinity--preferred--pod_affinity_term--label_selector"></a>
### Nested Schema for `pod_affinity.preferred.pod_affinity_term.label_selector`

Read-Only:

- `match_expressions` (List of Object) (see [below for nested schema](#nestedobjatt--pod_affinity--preferred--pod_affinity_term--label_selector--match_expressions))
- `match_labels` (Map of String)

<a id="nestedobjatt--pod_affinity--preferred--pod_affinity_term--label_selector--match_expressions"></a>
### Nested Schema for `pod_affinity.preferred.pod_affinity_term.label_selector.match_expressions`

Read-Only:

- `key` (String)
- `operator` (String)
- `values` (List of String)



<a id="nestedobjatt--pod_affinity--preferred--pod_affinity_term--namespace_selector"></a>
### Nested Schema for `pod_affinity.preferred.pod_affinity_term.namespace_selector`

Read-Only:

- `match_expressions` (List of Object) (see [below for nested schema](#nestedobjatt--pod_affinity--preferred--pod_affinity_term--namespace_selector--match_expressions))
- `match_labels` (Map of String)

<a id="nestedobjatt--pod_affinity--preferred--pod_affinity_term--namespace_selector--match_expressions"></a>
### Nested Schema for `pod_affinity.preferred.pod_affinity_term.namespace_selector.match_expressions`

Read-Only:

- `key` (String)
- `operator` (String)
- `values` (List of String)





<a id="nestedobjatt--pod_affinity--required"></a>
### Nested Schema for `pod_affinity.required`

Read-Only:

- `label_selector` (List of Object) (see [below for nested schema](#nestedobjatt--pod_affinity--required--label_selector))
- `namespace_selector` (List of Object) (see [below for nested schema](#nestedobjatt--pod_affinity--required--namespace_selector))
- `namespaces` (List of String)
- `topology_key` (String)

<a id="nestedobjatt--pod_affinity--required--label_selector"></a>
### Nested Schema for `pod_affinity.required.label_selector`

Read-Only:

- `match_expressions` (List of Object) (see [below for nested schema](#nestedobjatt--pod_affinity--required--label_selector--match_expressions))
- `match_labels` (Map of String)

<a id="nestedobjatt--pod_affinity--required--label_selector--match_expressions"></a>
### Nested Schema for `pod_affinity.required.label_selector.match_expressions`

Read-Only:

- `key` (String)
- `operator` (String)
- `values` (List of String)



<a id="nestedobjatt--pod_affinity--required--namespace_selector"></a>
### Nested Schema for `pod_affinity.required.namespace_selector`

Read-Only:

- `match_expressions` (List of Object) (see [below for nested schema](#nestedobjatt--pod_affinity--required--namespace_selector--match_expressions))
- `match_labels` (Map of String)

<a id="nestedobjatt--pod_affinity--required--namespace_selector--match_expressions"></a>
### Nested Schema for `pod_affinity.required.namespace_selector.match_expressions`

Read-Only:

- `key` (String)
- `operator` (String)
- `values` (List of String)





<a id="nestedatt--pod_anti_affinity"></a>
### Nested Schema for `pod_anti_affinity`

Read-Only:

- `preferred` (List of Object) (see [below for nested schema](#nestedobjatt--pod_anti_affinity--preferred))
- `required` (List of Object) (see [below for nested schema](#nestedobjatt--pod_anti_affinity--required))

<a id="nestedobjatt--pod_anti_affinity--preferred"></a>
### Nested Schema for `pod_anti_affinity.preferred`

Read-Only:

- `pod_affinity_term` (List of Object) (see [below for nested schema](#nestedobjatt--pod_anti_affinity--preferred--pod_affinity_term))
- `weight` (Number)

<a id="nestedobjatt--pod_anti_affinity--preferred--pod_affinity_term"></a>
### Nested Schema for `pod_anti_affinity.preferred.pod_affinity_term`

Read-Only:

- `label_selector` (List of Object) (see [below for nested schema](#nestedobjatt--pod_anti_affinity--preferred--pod_affinity_term--label_selector))
- `namespace_selector` (List of Object) (see [below for nested schema](#nestedobjatt--pod_anti_affinity--preferred--pod_affinity_term--namespace_selector))
- `namespaces` (List of String)
- `topology_key` (String)

<a id="nestedobjatt--pod_anti_affinity--preferred--pod_affinity_term--label_selector"></a>
### Nested Schema for `pod_anti_affinity.preferred.pod_affinity_term.label_selector`

Read-Only:

- `match_expressions` (List of Object) (see [below for nested schema](#nestedobjatt--pod_anti_affinity--preferred--pod_affinity_term--label_selector--match_expressions))
- `match_labels` (Map of String)

<a id="nestedobjatt--pod_anti_affinity--preferred--pod_affinity_term--label_selector--match_expressions"></a>
### Nested Schema for `pod_anti_affinity.preferred.pod_affinity_term.label_selector.match_expressions`

Read-Only:

- `key` (String)
- `operator` (String)
- `values` (List of String)



<a id="nestedobjatt--pod_anti_affinity--preferred--pod_affinity_term--namespace_selector"></a>
### Nested Schema for `pod_anti_affinity.preferred.pod_affinity_term.namespace_selector`

Read-Only:

- `match_expressions` (List of Object) (see [below for nested schema](#nestedobjatt--pod_anti_affinity--preferred--pod_affinity_term--namespace_selector--match_expressions))
- `match_labels` (Map of String)

<a id="nestedobjatt--pod_anti_affinity--preferred--pod_affinity_term--namespace_selector--match_expressions"></a>
### Nested Schema for `pod_anti_affinity.preferred.pod_affinity_term.namespace_selector.match_expressions`

Read-Only:

- `key` (String)
- `operator` (String)
- `values` (List of String)





<a id="nestedobjatt--pod_anti_affinity--required"></a>
### Nested Schema for `pod_anti_affinity.required`

Read-Only:

- `label_selector` (List of Object) (see [below for nested schema](#nestedobjatt--pod_anti_affinity--required--label_selector))
- `namespace_selector` (List of Object) (see [below for nested schema](#nestedobjatt--pod_anti_affinity--required--namespace_selector))
- `namespaces` (List of String)
- `topology_key` (String)

<a id="nestedobjatt--pod_anti_affinity--required--label_selector"></a>
### Nested Schema for `pod_anti_affinity.required.label_selector`

Read-Only:

- `match_expressions` (List of Object) (see [below for nested schema](#nestedobjatt--pod_anti_affinity--required--label_selector--match_expressions))
- `match_labels` (Map of String)

<a id="nestedobjatt--pod_anti_affinity--required--label_selector--match_expressions"></a>
### Nested Schema for `pod_anti_affinity.required.label_selector.match_expressions`

Read-Only:

- `key` (String)
- `operator` (String)
- `values` (List of String)



<a id="nestedobjatt--pod_anti_affinity--required--namespace_selector"></a>
### Nested Schema for `pod_anti_affinity.required.namespace_selector`

Read-Only:

- `match_expressions` (List of Object) (see [below for nested schema](#nestedobjatt--pod_anti_affinity--required--namespace_selector--match_expressions))
- `match_labels` (Map of String)

<a id="nestedobjatt--pod_anti_affinity--required--namespace_selector--match_expressions"></a>
### Nested Schema for `pod_anti_affinity.required.namespace_selector.match_expressions`

Read-Only:

- `key` (String)
- `operator` (String)
- `values` (List of String)





<a id="nestedatt--tpm"></a>
### Nested Schema for `tpm`

Read-Only:

- `name` (String)
